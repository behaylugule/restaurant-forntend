(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7103],{182:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(5155),n=r(6862),i=r(7168),s=r(2787),l=r(4111),o=r(5765),u=r(4416),c=r(8564),d=r(9140),m=r(7712),p=r(4616),f=r(6766),h=r(5695),v=r(2115);function g(){var e,t;let r=(0,h.useParams)(),[g,y]=(0,v.useState)(),[x,b]=(0,v.useState)(),[w,A]=(0,v.useState)(),C=(0,h.useRouter)(),{addToCart:k,getById:_,incrementQuantity:j,decrementQuantity:N,removeFromCart:M}=(0,n._)();(0,v.useEffect)(()=>{P()},[]);let P=()=>{var e;l.t.getMenu((null==(e=r.menuId)?void 0:e.toLocaleString())||"").then(e=>{y(e.data.data),b(_((null==e?void 0:e.data.data.id)||"")),s.Z.menuRateDo("average_rate",e.data.data).then(e=>{A(e.data.data)}).catch(e=>{})}).catch(e=>{})};return(0,a.jsxs)("div",{className:"pb-24",children:[(0,a.jsx)(f.default,{src:"".concat(o.Hc,"/").concat(null==g?void 0:g.image_url),alt:"menu image",width:700,height:700,className:"w-full h-[500px] object-cover rounded-lg"}),(0,a.jsx)(u.A,{className:"fixed top-10 z-50 left-5 bg-gray-600  rounded-full text-[#C71F37] cursor-pointer",size:36,onClick:()=>{C.back()}}),(0,a.jsxs)("div",{className:"px-5 py-4 w-full flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("h3",{className:"text-[20px] text-[#C71F37]",children:null==g?void 0:g.name}),(0,a.jsxs)("h4",{className:"text-[16px] text-[#C71F37]",children:["$",null==g?void 0:g.price]})]}),(0,a.jsxs)("span",{className:"flex items-center gap-6 my-4 w-full",children:[(0,a.jsxs)("span",{className:"flex items-center gap-3 text-[#C71F37]",children:[(0,a.jsx)(c.A,{})," ",null==w?void 0:w.average_rate," rating"]}),(0,a.jsxs)("span",{className:"flex items-center gap-3 text-[#C71F37]",children:[(0,a.jsx)(d.A,{})," ",null==w?void 0:w.total_order,"+ order"]})]}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Nulla occaecat velit laborum exercitation ullamco. Elit labore eu aute elit nostrud culpa velit excepteur deserunt sunt. Velit non est cillum consequat cupidatat ex"}),g&&(null==g?void 0:g.id)&&(null==(e=_(null==g?void 0:g.id))?void 0:e.id)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(m.A,{className:"text-[#C71F37] hover:text-[#000] cursor-pointer",onClick:()=>g.id&&N(null==g?void 0:g.id)}),null==(t=_((null==g?void 0:g.id)||""))?void 0:t.quantity,(0,a.jsx)(p.A,{className:"text-[#C71F37] hover:text-[#000] cursor-pointer",onClick:()=>g.id&&j(null==g?void 0:g.id)})]}),(0,a.jsx)(i.$,{className:"bg-[#C71F37] hover:scale-125 hover:bg-[#C71F37] text-white px-16 py-6 mt-4 rounded-md ",onClick:()=>g.id&&M(g.id),children:"Remove from Cart"})]}):(0,a.jsx)(i.$,{className:"bg-[#C71F37] hover:scale-125 hover:bg-[#C71F37] text-white px-16 py-6 mt-16 rounded-md ",onClick:()=>k({id:(null==g?void 0:g.id)||"",name:(null==g?void 0:g.name)||"",price:(null==g?void 0:g.price)||0,image_url:(null==g?void 0:g.image_url)||"",quantity:1}),children:"Add to Cart"})]})]})}},2085:(e,t,r)=>{"use strict";r.d(t,{F:()=>s});var a=r(2596);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,i=a.$,s=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return i(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:l}=t,o=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],a=null==l?void 0:l[e];if(null===t)return null;let i=n(t)||n(a);return s[e][i]}),u=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return i(e,o,null==t||null==(a=t.compoundVariants)?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...l,...u}[t]):({...l,...u})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}},2787:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var a=r(5784);let n={getMenuRate:i,createMenuRate:s,updateMenuRate:l,menuRateDo:o};async function i(e){return await a.A.get("/orders/menu-rates/",{params:{page:e.page,page_size:e.page_size,search:e.search,order_id:e.order_id,menu_id:e.menu_id}})}async function s(e){return await a.A.post("/orders/menu-rates/",e)}async function l(e,t){return await a.A.patch("/orders/menu-rates/".concat(e),t)}async function o(e,t){return await a.A.patch("/orders/menu-rates/",t,{params:{method:e}})}},3999:(e,t,r)=>{"use strict";r.d(t,{D:()=>o,cn:()=>s,f:()=>l});var a=r(2596),n=r(3319),i=r(9688);function s(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,i.QP)((0,a.$)(t))}function l(e){let t=new Date;e=new Date(e);let r=t.getTime()-e.getTime(),a=Math.floor(r/1e3),n=Math.floor(r/6e4),i=Math.floor(r/36e5),s=Math.floor(r/864e5),l=new Intl.RelativeTimeFormat("en",{numeric:"auto"});return a<60?l.format(-a,"second"):n<60?l.format(-n,"minute"):i<24?l.format(-i,"hour"):l.format(-s,"day")}function o(e){return(0,n.GP)(e,"HH:mm a")}},4111:(e,t,r)=>{"use strict";r.d(t,{t:()=>n});var a=r(5784);let n={getMenus:i,getMenu:s,addMenu:l,updateMenu:o,deleteMenu:u,getMuenubyRestorantId:c};async function i(e){return await a.A.get("/menu/",{params:{...e}})}async function s(e){return await a.A.get("/menu/".concat(e,"/"))}async function l(e){return await a.A.post("/menu/",e)}async function o(e){return await a.A.patch("/menu/".concat(e.id,"/"),e)}async function u(e){return await a.A.delete("/menu/".concat(e,"/"))}async function c(e){return await a.A.get("/client/menus/".concat(e.id),{params:{category_id:e.category_id,page:e.page,page_size:e.page_size,search:e.search}})}},4416:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},4616:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"useParams")&&r.d(t,{useParams:function(){return a.useParams}}),r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(t,{useSearchParams:function(){return a.useSearchParams}})},5765:(e,t,r)=>{"use strict";r.d(t,{Hc:()=>s,Mx:()=>i,tX:()=>a,w8:()=>n});var a=function(e){return e.ADMIN="admin",e.ORGANIZATION_ADMIN="organization_admin",e.SHOP_ADMIN="shop_admin",e.CUSTOMER="customer",e.USER="user",e}({}),n=function(e){return e.PENDING="pending",e.PROCESSING="processing",e.READY="ready",e.COMPLETED="completed",e.CANCLED="cancled",e}({}),i=function(e){return e.USER="user",e.SYSTEM="system",e}({});let s="https://restaurantsaasmenuimage.s3.amazonaws.com"},5784:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(3464),n=r(3568);let i="http://localhost:8000/api",s=a.A.create({baseURL:i});s.interceptors.request.use(e=>{console.log("base URL",i);{let t=localStorage.getItem("access");t&&(e.headers.Authorization="Bearer ".concat(t))}return"post"!==e.method&&"put"!==e.method&&"patch"!==e.method||e.headers["Content-Type"]||(e.headers["Content-Type"]="application/json"),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,async e=>{var t,r,s;let l=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!l._retry){l._retry=!0;try{localStorage.getItem("refresh");let e=await a.A.post(i+"/token/refresh");localStorage.setItem("access",e.data.access),l.headers.Authorization="Bearer ".concat(e.data.access)}catch(e){localStorage.removeItem("access"),localStorage.removeItem("refresh"),window.location.href="/login"}}return console.log("Error response:",e.response),n.Ay.error((null==(s=e.response)||null==(r=s.data)?void 0:r.message)||"An error occurred"),Promise.reject(e)});let l=s},6101:(e,t,r)=>{"use strict";r.d(t,{s:()=>s,t:()=>i});var a=r(2115);function n(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let r=!1,a=e.map(e=>{let a=n(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():n(e[t],null)}}}}function s(...e){return a.useCallback(i(...e),e)}},6654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return n}});let a=r(2115);function n(e,t){let r=(0,a.useRef)(null),n=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=i(e,a)),t&&(n.current=i(t,a))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6862:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>s,_:()=>l});var a=r(5155),n=r(2115);let i=(0,n.createContext)(void 0),s=e=>{let{children:t}=e,[r,s]=(0,n.useState)([]),l=(0,n.useMemo)(()=>r.reduce((e,t)=>e+t.price*t.quantity,0),[r]),o=(0,n.useMemo)(()=>r.reduce((e,t)=>e+t.quantity,0),[r]);return(0,a.jsx)(i.Provider,{value:{cartItems:r,addToCart:e=>{s(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:e=>{s(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{s(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},incrementQuantity:e=>{s(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity+1}:t))},decrementQuantity:e=>{s(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity>1?t.quantity-1:1}:t))},getById:e=>r.find(t=>t.id===e),clearCart:()=>s([]),totalPrice:l,totalQuantity:o},children:t})},l=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useCart must be used within a CartProvider");return e}},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>l});var a=r(5155);r(2115);var n=r(9708),i=r(2085),s=r(3999);let l=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:r,size:i,asChild:o=!1,...u}=e,c=o?n.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,s.cn)(l({variant:r,size:i,className:t})),...u})}},7212:(e,t,r)=>{Promise.resolve().then(r.bind(r,182))},7712:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},8564:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9140:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("list-ordered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]])},9708:(e,t,r)=>{"use strict";r.d(t,{DX:()=>l,TL:()=>s});var a=r(2115),n=r(6101),i=r(5155);function s(e){let t=function(e){let t=a.forwardRef((e,t)=>{let{children:r,...i}=e;if(a.isValidElement(r)){var s;let e,l,o=(s=r,(l=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(l=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),u=function(e,t){let r={...t};for(let a in t){let n=e[a],i=t[a];/^on[A-Z]/.test(a)?n&&i?r[a]=(...e)=>{let t=i(...e);return n(...e),t}:n&&(r[a]=n):"style"===a?r[a]={...n,...i}:"className"===a&&(r[a]=[n,i].filter(Boolean).join(" "))}return{...e,...r}}(i,r.props);return r.type!==a.Fragment&&(u.ref=t?(0,n.t)(t,o):o),a.cloneElement(r,u)}return a.Children.count(r)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=a.forwardRef((e,r)=>{let{children:n,...s}=e,l=a.Children.toArray(n),o=l.find(u);if(o){let e=o.props.children,n=l.map(t=>t!==o?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...s,ref:r,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,i.jsx)(t,{...s,ref:r,children:n})});return r.displayName=`${e}.Slot`,r}var l=s("Slot"),o=Symbol("radix.slottable");function u(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===o}},9946:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(2115);let n=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},i=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:u="",children:c,iconNode:d,...m}=e;return(0,a.createElement)("svg",{ref:t,...s,width:n,height:n,stroke:r,strokeWidth:o?24*Number(l)/Number(n):l,className:i("lucide",u),...!c&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"},...m},[...d.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(c)?c:[c]])}),o=(e,t)=>{let r=(0,a.forwardRef)((r,s)=>{let{className:o,...u}=r;return(0,a.createElement)(l,{ref:s,iconNode:t,className:i("lucide-".concat(n(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),o),...u})});return r.displayName=n(e),r}}},e=>{e.O(0,[7567,397,6766,8441,5964,7358],()=>e(e.s=7212)),_N_E=e.O()}]);