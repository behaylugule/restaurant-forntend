(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5395],{1524:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(5155),s=r(2402),n=r(6862),i=r(9946);let o=(0,i.A)("list-check",[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]]);var c=r(1976);let l=(0,i.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),d=(0,i.A)("message-circle-more",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]]),u=(0,i.A)("chart-bar-big",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["rect",{x:"7",y:"13",width:"9",height:"4",rx:"1",key:"1iip1u"}],["rect",{x:"7",y:"5",width:"12",height:"4",rx:"1",key:"1anskk"}]]);var h=r(6874),f=r.n(h),m=r(5695);function p(){let{cartItems:e}=(0,n._)(),t=(0,m.useParams)();return(0,a.jsxs)("div",{className:"fixed bottom-0 left-0 w-full bg-gray-200 py-4 flex items-center justify-between px-5",children:[(0,a.jsx)(f(),{href:"/".concat(t.restaurantId,"/orderlist"),className:"relative w-10 h-10",children:(0,a.jsx)(o,{className:"text-[#C71F37] w-full h-full"})}),(0,a.jsx)(f(),{href:"/".concat(t.restaurantId,"/orderlist"),className:"relative w-10 h-10",children:(0,a.jsx)(c.A,{className:"text-[#C71F37] w-full h-full"})}),(0,a.jsx)(f(),{href:"/".concat(t.restaurantId),className:"relative w-16 h-16 bg-white rounded-full mt-[-70px] flex items-center justify-center",children:(0,a.jsx)(l,{className:"text-[#C71F37] ",size:32})}),(0,a.jsxs)("div",{className:"flex justify-between gap-8",children:[(0,a.jsx)(f(),{href:"/".concat(t.restaurantId,"/chat"),className:"relative w-10 h-10",children:(0,a.jsx)(d,{className:"text-[#C71F37] w-full h-full"})}),(0,a.jsxs)(f(),{href:"/".concat(t.restaurantId,"/cart"),className:"relative w-10 h-10",children:[(0,a.jsx)(u,{className:"text-[#C71F37] w-full h-full"}),e.length>0&&(0,a.jsx)("span",{className:"absolute top-[-5px] flex items-center justify-center right-[-10px] rounded-full w-6 h-6 bg-[#C71F37]  text-white",children:e.length})]})]})]})}function g(e){let{children:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"w-full bg-[#FFFFFF] ",children:[(0,a.jsx)(s.A,{}),(0,a.jsx)("div",{children:t}),(0,a.jsx)(p,{})]})})}},2107:(e,t,r)=>{"use strict";r.d(t,{D:()=>s});var a=r(5784);let s={registerUser:function(e){return a.A.post("/register/",e)},login:n,logout:h,getCurrentUser:i,changePassword:o,getUsers:c,forgetPassword:l,resetPassword:d,updateProfile:u};async function n(e){return await a.A.post("/token/",e)}async function i(){return await a.A.get("/me/")}async function o(e){return await a.A.put("/change-password/",e)}async function c(e){return await a.A.get("/users/",{params:{...e}})}async function l(e){return await a.A.post("/password-reset/",{email:e})}async function d(e){return await a.A.post("/password-reset/confirm/?token=".concat(e.token),e)}async function u(e){return await a.A.patch("/update-profile/".concat(e.id,"/"),e)}async function h(){localStorage.removeItem("access"),localStorage.removeItem("refresh"),window.location.href="/login"}},2402:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var a=r(5155),s=r(9550),n=r(7168),i=r(2605),o=r(760),c=r(6874),l=r.n(c),d=r(5695),u=r(2115);let h="Restuarant SaaS";function f(){let[e,t]=(0,u.useState)(""),[r,c]=(0,u.useState)(0),{user:f,isAuthenticated:m,logout:p}=(0,s.A)();return(0,d.usePathname)(),(0,u.useEffect)(()=>{let e;return e=r<h.length?setTimeout(()=>{t(e=>e+h[r]),c(r+1)},100):setTimeout(()=>{t(""),c(0)},2e3),()=>clearTimeout(e)},[r]),(0,a.jsx)(i.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1,ease:"easeInOut"},className:"w-full  fixed top-0 left-0 bg-transparent z-50 ",children:(0,a.jsxs)("div",{className:"flex justify-between items-center w-full h-16 px-4",children:[(0,a.jsx)("h1",{className:"hidden lg:block text-2xl font-bold text-[#C71F37] cursor-pointer py-4",children:(0,a.jsx)(o.N,{children:e.split("").map((e,t)=>(0,a.jsx)(i.P.span,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.05},children:" "===e?"\xa0":e},t))})}),(0,a.jsx)(l(),{href:"/",className:"block text-[#C71F37] lg:hidden text-[16px] lg:text-2xl font-bold  cursor-pointer py-4",children:"Restuarant SaaS"}),(0,a.jsx)("div",{className:"flex gap-5",children:m?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.$,{className:"bg-[#C71F37] hover:scale-125 hover:bg-[#C71F37] text-white px-6 py-2 rounded-md ",onClick:p,children:"Logout"})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l(),{href:"/login",className:"bg-[#C71F37] hover:scale-125 hover:bg-[#C71F37] text-white px-6 py-2 rounded-md ",children:"Sign in"}),(0,a.jsx)(l(),{href:"/register",className:"bg-[#C71F37] hover:scale-125 text-white hover:bg-[#C71F37] px-6 py-2 rounded-md",children:"Sign up"})]})})]})})}},3999:(e,t,r)=>{"use strict";r.d(t,{D:()=>c,cn:()=>i,f:()=>o});var a=r(2596),s=r(3319),n=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}function o(e){let t=new Date;e=new Date(e);let r=t.getTime()-e.getTime(),a=Math.floor(r/1e3),s=Math.floor(r/6e4),n=Math.floor(r/36e5),i=Math.floor(r/864e5),o=new Intl.RelativeTimeFormat("en",{numeric:"auto"});return a<60?o.format(-a,"second"):s<60?o.format(-s,"minute"):n<24?o.format(-n,"hour"):o.format(-i,"day")}function c(e){return(0,s.GP)(e,"HH:mm a")}},4310:(e,t,r)=>{Promise.resolve().then(r.bind(r,1524))},5784:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var a=r(3464),s=r(3568);let n="http://16.170.234.55/api",i=a.A.create({baseURL:n});i.interceptors.request.use(e=>{console.log("base URL",n);{let t=localStorage.getItem("access");t&&(e.headers.Authorization="Bearer ".concat(t))}return"post"!==e.method&&"put"!==e.method&&"patch"!==e.method||e.headers["Content-Type"]||(e.headers["Content-Type"]="application/json"),e},e=>Promise.reject(e)),i.interceptors.response.use(e=>e,async e=>{var t,r,i;let o=e.config;if((null==(t=e.response)?void 0:t.status)===401&&!o._retry){o._retry=!0;try{localStorage.getItem("refresh");let e=await a.A.post(n+"/token/refresh");localStorage.setItem("access",e.data.access),o.headers.Authorization="Bearer ".concat(e.data.access)}catch(e){localStorage.removeItem("access"),localStorage.removeItem("refresh"),window.location.href="/login"}}return console.log("Error response:",e.response),s.Ay.error((null==(i=e.response)||null==(r=i.data)?void 0:r.message)||"An error occurred"),Promise.reject(e)});let o=i},6862:(e,t,r)=>{"use strict";r.d(t,{CartProvider:()=>i,_:()=>o});var a=r(5155),s=r(2115);let n=(0,s.createContext)(void 0),i=e=>{let{children:t}=e,[r,i]=(0,s.useState)([]),o=(0,s.useMemo)(()=>r.reduce((e,t)=>e+t.price*t.quantity,0),[r]),c=(0,s.useMemo)(()=>r.reduce((e,t)=>e+t.quantity,0),[r]);return(0,a.jsx)(n.Provider,{value:{cartItems:r,addToCart:e=>{i(t=>t.find(t=>t.id===e.id)?t.map(t=>t.id===e.id?{...t,quantity:t.quantity+1}:t):[...t,{...e,quantity:1}])},removeFromCart:e=>{i(t=>t.filter(t=>t.id!==e))},updateQuantity:(e,t)=>{i(r=>r.map(r=>r.id===e?{...r,quantity:t}:r))},incrementQuantity:e=>{i(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity+1}:t))},decrementQuantity:e=>{i(t=>t.map(t=>t.id===e?{...t,quantity:t.quantity>1?t.quantity-1:1}:t))},getById:e=>r.find(t=>t.id===e),clearCart:()=>i([]),totalPrice:o,totalQuantity:c},children:t})},o=()=>{let e=(0,s.useContext)(n);if(!e)throw Error("useCart must be used within a CartProvider");return e}},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>o});var a=r(5155);r(2115);var s=r(9708),n=r(2085),i=r(3999);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:t,variant:r,size:n,asChild:c=!1,...l}=e,d=c?s.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(o({variant:r,size:n,className:t})),...l})}},9550:(e,t,r)=>{"use strict";r.d(t,{A:()=>l,AuthProvider:()=>c});var a=r(5155),s=r(2115),n=r(2107),i=r(3568);let o=(0,s.createContext)(void 0),c=e=>{let{children:t}=e,[r,c]=(0,s.useState)(null),[l,d]=(0,s.useState)(null);return(0,s.useEffect)(()=>{let e=localStorage.getItem("access");e&&(c(e),n.D.getCurrentUser().then(e=>{d(e.data.data)}).catch(e=>{console.error("Failed to fetch current user:",e),d(null)}))},[]),(0,a.jsx)(o.Provider,{value:{user:l,accessToken:r,isAuthenticated:!!r,login:e=>{c(e),n.D.getCurrentUser().then(e=>{d(e.data.data)}).catch(e=>{i.Ay.error("failed to fetch current user")})},logout:()=>{localStorage.removeItem("access"),c(null),d(null)}},children:t})},l=()=>{let e=(0,s.useContext)(o);if(void 0==e)throw Error("useAuth must be used within an Authprovider");return e}}},e=>{e.O(0,[7567,397,7244,8843,8441,5964,7358],()=>e(e.s=4310)),_N_E=e.O()}]);