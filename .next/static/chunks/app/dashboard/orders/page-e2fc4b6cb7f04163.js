(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[611],{4468:(e,s,t)=>{"use strict";t.d(s,{Q:()=>n});var a=t(5784);let n={addOrder:r,getOrders:c,getOrder:l,orderDetailDo:i};async function r(e){return await a.A.post("/orders/",e)}async function l(e){return await a.A.get("/orders/".concat(e,"/"))}async function c(e){return await a.A.get("/orders/",{params:{...e}})}async function i(e,s,t){return await a.A.patch("/orders/".concat(e,"/"),t,{params:{method:s}})}},5090:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var a=t(5155),n=t(9550),r=t(2115),l=t(5695),c=t(8524),i=t(5623),d=t(8698),o=t(7133),u=t(823),x=t(7168),h=t(5411),m=t(405),j=t(4468),p=t(5765),N=t(6874),g=t.n(N),f=t(1412),A=t(3568),v=t(854),E=t(9164);function C(){let{isAuthenticated:e}=(0,n.A)(),s=(0,l.useRouter)(),[t,N]=(0,r.useState)([]),[C,y]=(0,r.useState)(!1),b=(0,m.W)(),[w,S]=(0,r.useState)();(0,r.useEffect)(()=>{e||s.push("/login")},[e]),(0,r.useEffect)(()=>{O()},[b.page,b.search,w]);let O=()=>{j.Q.getOrders({page:b.page,page_size:b.pageSize,...w}).then(e=>{y(!1),N(e.data.data.results),b.setTotalCount(e.data.data.count)}).catch(e=>{y(!1),console.log(e)})},D=e=>{},I=[{label:"status",name:"status",type:"select",options:E.E},{label:"Search",name:"search",type:"text"},{label:"Order Date",name:"order_date",type:"date"}];return(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("div",{className:"flex justify-between items-center px-2 lg:px-12 py-4",children:(0,a.jsx)(v.A,{config:I,onFilterChange:e=>{S({...e})},generateReport:()=>{f.N.generateOrderReport(w).then(e=>{console.log(e),A.Ay.success(e.data.data.message)}).catch(e=>{})}})}),(0,a.jsxs)("div",{className:"flex flex-col justify-center px-2 lg:px-12",children:[(0,a.jsxs)(c.XI,{className:"bg-white",children:[(0,a.jsx)(c.A0,{children:(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nd,{children:"ID"}),(0,a.jsx)(c.nd,{children:"User Name"}),(0,a.jsx)(c.nd,{children:"total Price"}),(0,a.jsx)(c.nd,{children:"Status"}),(0,a.jsx)(c.nd,{children:"Action"})]})}),(0,a.jsx)(c.BF,{children:!C&&t.map((e,s)=>(0,a.jsxs)(c.Hj,{children:[(0,a.jsx)(c.nA,{className:"flex items-center justify-center",children:(0,a.jsx)(g(),{href:"/dashboard/orders/".concat(e.id.toString()),className:"w-full h-full text-[#C71F37]",children:null==e?void 0:e.id})}),(0,a.jsx)(c.nA,{children:null==e?void 0:e.username}),(0,a.jsx)(c.nA,{children:null==e?void 0:e.total_price}),(0,a.jsx)(c.nA,{children:null==e?void 0:e.status}),(0,a.jsx)(c.nA,{children:(0,a.jsxs)(d.rI,{children:[(0,a.jsx)(o.ty,{children:(0,a.jsx)(i.A,{className:"h-5 w-5 text-gray-400"})}),(0,a.jsxs)(o.SQ,{className:"w-18",children:[(0,a.jsx)(o.lp,{className:"flex items-center text-gray-700 cursor-pointer",children:(0,a.jsxs)(u.AM,{children:[(0,a.jsx)(u.Wv,{className:"flex items-center text-gray-700 cursor-pointer",children:"Complete"}),(0,a.jsxs)(u.hl,{className:"w-64",children:["are you sure to complete the order?",(0,a.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,a.jsx)(x.$,{className:"text-red-600 bg-transparent outline-red-600",children:"No"}),(0,a.jsx)(x.$,{className:"text-green-600 bg-transparent outline-green-600",onClick:()=>D(p.w8.COMPLETED),children:"Yes"})]})]})]})}),(0,a.jsx)(o.lp,{className:"flex items-center text-gray-700 cursor-pointer",children:(0,a.jsxs)(u.AM,{children:[(0,a.jsx)(u.Wv,{className:"flex items-center text-gray-700 cursor-pointer",children:"Cancle"}),(0,a.jsxs)(u.hl,{className:"w-64",children:["are you sure to cancle the order?",(0,a.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,a.jsx)(x.$,{className:"text-red-600 bg-transparent outline-red-600",children:"No"}),(0,a.jsx)(x.$,{className:"text-green-600 bg-transparent outline-green-600",onClick:()=>D(p.w8.CANCLED),children:"Yes"})]})]})]})})]})]})})]},s))})]}),(0,a.jsx)(h.dK,{className:"self-start",children:(0,a.jsxs)(h.Iu,{children:[(0,a.jsx)(h.cU,{onClick:C?void 0:b.handlePrevPage,children:(0,a.jsx)(h.Eb,{})}),b.totalCount>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h.cU,{children:(0,a.jsxs)(h.n$,{children:["Total:",b.totalCount]})})}),(0,a.jsx)(h.cU,{onClick:C?void 0:b.handleNextPage,className:0===t.length?"pointer-events-none opacity-50 ":"",children:(0,a.jsx)(h.WA,{})})]})})]})]})}},5254:(e,s,t)=>{Promise.resolve().then(t.bind(t,5090))},5765:(e,s,t)=>{"use strict";t.d(s,{Hc:()=>l,Mx:()=>r,tX:()=>a,w8:()=>n});var a=function(e){return e.ADMIN="admin",e.ORGANIZATION_ADMIN="organization_admin",e.SHOP_ADMIN="shop_admin",e.CUSTOMER="customer",e.USER="user",e}({}),n=function(e){return e.PENDING="pending",e.PROCESSING="processing",e.READY="ready",e.COMPLETED="completed",e.CANCLED="cancled",e}({}),r=function(e){return e.USER="user",e.SYSTEM="system",e}({});let l="https://restaurantsaasmenuimage.s3.amazonaws.com"},9164:(e,s,t)=>{"use strict";t.d(s,{C:()=>n,E:()=>r});var a=t(5765);let n=[{value:a.tX.ADMIN,label:"Admin"},{value:a.tX.ORGANIZATION_ADMIN,label:"Organization Admin"},{value:a.tX.SHOP_ADMIN,label:"Shop Admin"},{value:a.tX.CUSTOMER,label:"Customer"},{value:a.tX.USER,label:"User"}],r=[{value:a.w8.PENDING,label:"pending"},{value:a.w8.PROCESSING,label:"processing"},{value:a.w8.READY,label:"ready"},{value:a.w8.COMPLETED,label:"completed"},{value:a.w8.CANCLED,label:"cancled"}]}},e=>{e.O(0,[7567,397,2177,7244,2128,8795,9196,8345,8467,9857,5715,8441,5964,7358],()=>e(e.s=5254)),_N_E=e.O()}]);