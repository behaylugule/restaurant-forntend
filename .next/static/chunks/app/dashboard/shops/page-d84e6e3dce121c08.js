(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20],{255:(e,t,n)=>{"use strict";function r(e){let{moduleIds:t}=e;return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return r}}),n(5155),n(7650),n(5744),n(589)},495:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var r=n(5784);let a={getShops:s,getShop:l,addShop:o,updateShop:i,deleteShop:c,getShopsForClient:d};async function s(e){return await r.A.get("/shops/",{params:{...e}})}async function l(e){return await r.A.get("/shops/".concat(e,"/"))}async function o(e){return await r.A.post("/shops/",e)}async function i(e){return await r.A.patch("/shops/".concat(e.id,"/"),e)}async function c(e){return await r.A.delete("/shops/".concat(e,"/"))}async function d(e){let{page:t,page_size:n,search:a}=e;return await r.A.get("/client/shops/",{params:{page:t,page_size:n,search:a}})}},668:(e,t,n)=>{Promise.resolve().then(n.bind(n,940))},940:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>S});var r=n(5155),a=n(9550),s=n(2115),l=n(5695),o=n(8524),i=n(5623),c=n(6839),d=n(3717),u=n(495),h=n(8698),f=n(7133),p=n(823),x=n(7168),j=n(9840),g=n(6037),m=n(5411),y=n(405),b=n(854),v=n(1412),A=n(3568);let w=(0,n(5028).default)(()=>Promise.all([n.e(1761),n.e(3160)]).then(n.bind(n,3160)),{loadableGenerated:{webpack:()=>[3160]},ssr:!1});function S(){let{isAuthenticated:e}=(0,a.A)(),t=(0,l.useRouter)(),[n,S]=(0,s.useState)([]),[P,N]=(0,s.useState)(!1),[_,O]=(0,s.useState)(!1),[k,C]=(0,s.useState)("add"),[z,M]=(0,s.useState)(),E=(0,y.W)(),[R,T]=(0,s.useState)();(0,s.useEffect)(()=>{e||t.push("/login")},[e]),(0,s.useEffect)(()=>{I()},[E.page,R]);let I=()=>{u.S.getShops({page:E.page,page_size:E.pageSize,...R}).then(e=>{N(!1),S(e.data.data.results),E.setTotalCount(e.data.data.count)}).catch(e=>{N(!1),console.log(e)})},L=async e=>{N(!0),u.S.deleteShop(e).then(t=>{N(!1),S(t=>t.filter(t=>(null==t?void 0:t.id)!==e))}).catch(e=>{N(!1),console.log(e)})};return(0,s.useEffect)(()=>{_||(M({id:"",name:"",description:"",shop_logo:"",organization:""}),C("add"))},[_]),(0,r.jsxs)("div",{className:"w-full px-2 lg:px-12",children:[(0,r.jsxs)("div",{className:"flex justify-between bg-white items-center  py-4 my-5",children:[(0,r.jsx)("div",{className:"flex-6/7",children:(0,r.jsx)(b.A,{config:[{label:"search",name:"search",type:"text"}],generateReport:()=>{v.N.generateShopReport({...R}).then(e=>{A.Ay.success(e.data.data.message)}).catch(e=>{console.log(e)})},onFilterChange:e=>{T({...e})}})}),(0,r.jsx)("div",{className:"flex-1/7",children:(0,r.jsxs)(j.lG,{open:_,onOpenChange:O,children:[(0,r.jsx)(j.zM,{className:"bg-black hover:bg-gray-500 cursor-pointer text-white px-4 py-2 rounded-lg shadow-lg",children:"Add Shop"}),(0,r.jsxs)(j.Cf,{children:[(0,r.jsx)(j.c7,{children:(0,r.jsx)(j.L3,{children:"Add Shop"})}),(0,r.jsx)(g.w,{}),(0,r.jsx)(w,{setOpen:O,getshops:I,actionType:k,shopDetail:z})]})]})})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-center ",children:[(0,r.jsxs)(o.XI,{className:"bg-white",children:[(0,r.jsx)(o.A0,{children:(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nd,{children:"ID"}),(0,r.jsx)(o.nd,{children:"Name"}),(0,r.jsx)(o.nd,{children:"Code"}),(0,r.jsx)(o.nd,{children:"Description"}),(0,r.jsx)(o.nd,{children:"Address"}),(0,r.jsx)(o.nd,{children:"Action"})]})}),(0,r.jsx)(o.BF,{children:!P&&n.map((e,t)=>(0,r.jsxs)(o.Hj,{children:[(0,r.jsx)(o.nA,{children:null==e?void 0:e.id}),(0,r.jsx)(o.nA,{children:null==e?void 0:e.name}),(0,r.jsx)(o.nA,{children:null==e?void 0:e.code}),(0,r.jsx)(o.nA,{children:null==e?void 0:e.description}),(0,r.jsx)(o.nA,{children:null==e?void 0:e.address}),(0,r.jsx)(o.nA,{children:(0,r.jsxs)(h.rI,{children:[(0,r.jsx)(f.ty,{children:(0,r.jsx)(i.A,{className:"h-5 w-5 text-gray-400"})}),(0,r.jsxs)(f.SQ,{className:"w-18",children:[(0,r.jsx)(f.lp,{className:"flex items-center text-gray-700 cursor-pointer",children:(0,r.jsxs)(p.AM,{children:[(0,r.jsxs)(p.Wv,{className:"flex items-center text-gray-700 cursor-pointer",children:[(0,r.jsx)(c.A,{className:"mr-4 text-[12px]"}),"Delete"]}),(0,r.jsxs)(p.hl,{className:"w-64",children:["are you sure to delete this shop?",(0,r.jsxs)("div",{className:"flex justify-center mt-4",children:[(0,r.jsx)(x.$,{className:"text-red-600 bg-transparent outline-red-600",children:"No"}),(0,r.jsx)(x.$,{className:"text-green-600 bg-transparent outline-green-600",onClick:()=>L(e.id),children:"Yes"})]})]})]})}),(0,r.jsxs)(f.lp,{className:"flex item-center text-gray-700 cursor-pointer",onClick:()=>{M(e),C("edit"),O(!0)},children:[(0,r.jsx)(d.A,{className:"mr-4 text-[12px]"}),"Update"]})]})]})})]},t))})]}),(0,r.jsx)(m.dK,{className:"self-start",children:(0,r.jsxs)(m.Iu,{children:[(0,r.jsx)(m.cU,{onClick:P?void 0:E.handlePrevPage,children:(0,r.jsx)(m.Eb,{})}),E.totalCount>0&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(m.cU,{children:(0,r.jsxs)(m.n$,{children:["Total:",E.totalCount]})})}),(0,r.jsx)(m.cU,{onClick:P?void 0:E.handleNextPage,className:0===n.length?"pointer-events-none opacity-50 ":"",children:(0,r.jsx)(m.WA,{})})]})})]})]})}},2146:(e,t,n)=>{"use strict";function r(e){let{reason:t,children:n}=e;return n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}}),n(5262)},3717:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(9946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return s},createSnapshot:function(){return o}});let n=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class r{disable(){throw n}getStore(){}run(){throw n}exit(){throw n}enterWith(){throw n}static bind(e){return e}}let a="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function s(){return a?new a:new r}function l(e){return a?a.bind(e):r.bind(e)}function o(){return a?a.snapshot():function(e,...t){return e(...t)}}},5028:(e,t,n)=>{"use strict";n.d(t,{default:()=>a.a});var r=n(6645),a=n.n(r)},5695:(e,t,n)=>{"use strict";var r=n(8999);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},5744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return r.workAsyncStorageInstance}});let r=n(7828)},6037:(e,t,n)=>{"use strict";n.d(t,{w:()=>l});var r=n(5155);n(2115);var a=n(7489),s=n(3999);function l(e){let{className:t,orientation:n="horizontal",decorative:l=!0,...o}=e;return(0,r.jsx)(a.b,{"data-slot":"separator",decorative:l,orientation:n,className:(0,s.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...o})}},6645:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}});let r=n(8229)._(n(7357));function a(e,t){var n;let a={};"function"==typeof e&&(a.loader=e);let s={...a,...t};return(0,r.default)({...s,modules:null==(n=s.loadableGenerated)?void 0:n.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6839:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(0,n(9946).A)("delete",[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]])},7357:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i}});let r=n(5155),a=n(2115),s=n(2146);function l(e){return{default:e&&"default"in e?e.default:e}}n(255);let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},i=function(e){let t={...o,...e},n=(0,a.lazy)(()=>t.loader().then(l)),i=t.loading;function c(e){let l=i?(0,r.jsx)(i,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?a.Suspense:a.Fragment,d=t.ssr?(0,r.jsxs)(r.Fragment,{children:[null,(0,r.jsx)(n,{...e})]}):(0,r.jsx)(s.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(n,{...e})});return(0,r.jsx)(c,{...o?{fallback:l}:{},children:d})}return c.displayName="LoadableComponent",c}},7489:(e,t,n)=>{"use strict";n.d(t,{b:()=>c});var r=n(2115),a=n(3655),s=n(5155),l="horizontal",o=["horizontal","vertical"],i=r.forwardRef((e,t)=>{var n;let{decorative:r,orientation:i=l,...c}=e,d=(n=i,o.includes(n))?i:l;return(0,s.jsx)(a.sG.div,{"data-orientation":d,...r?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:t})});i.displayName="Separator";var c=i},7828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return r}});let r=(0,n(4054).createAsyncLocalStorage)()}},e=>{e.O(0,[7567,397,2177,2128,8795,9196,8345,8467,9857,5715,8441,5964,7358],()=>e(e.s=668)),_N_E=e.O()}]);